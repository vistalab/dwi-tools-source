<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Quench: PDBHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PDBHelper Class Reference</h1><!-- doxytag: class="PDBHelper" -->
<p>This class acts as a wrapper around DTIPathwayDatabase.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_p_d_b_helper_8h_source.html">PDBHelper.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for PDBHelper:</div>
<div class="dynsection">
<div class="center"><img src="class_p_d_b_helper__coll__graph.png" border="0" usemap="#_p_d_b_helper_coll__map" alt="Collaboration graph"/></div>
<map name="_p_d_b_helper_coll__map" id="_p_d_b_helper_coll__map">
<area shape="rect" id="node2" href="class_d_t_i_pathway_assignment.html" title="Stores the mapping of fibers to fiber groups." alt="" coords="5,5,165,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_p_d_b_helper-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7148842a08482b9b6f9bf3bf6efc223c"></a><!-- doxytag: member="PDBHelper::GetPDB" ref="a7148842a08482b9b6f9bf3bf6efc223c" args="()" -->
PDTIPathwayDatabase &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetPDB</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa2d0a35e88bb32369933856b23839c9"></a><!-- doxytag: member="PDBHelper::GetAssignment" ref="afa2d0a35e88bb32369933856b23839c9" args="()" -->
<a class="el" href="class_d_t_i_pathway_assignment.html">DTIPathwayAssignment</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetAssignment</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e6bd7e368b4279c0bc2944546c655a6"></a><!-- doxytag: member="PDBHelper::GetInteractiveAssignment" ref="a8e6bd7e368b4279c0bc2944546c655a6" args="()" -->
<a class="el" href="class_d_t_i_pathway_assignment.html">DTIPathwayAssignment</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetInteractiveAssignment</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fda6826a96b1d55f2401e17c707fe3e"></a><!-- doxytag: member="PDBHelper::GetDistanceMatrix" ref="a0fda6826a96b1d55f2401e17c707fe3e" args="()" -->
PDTIPathDistanceMatrix &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetDistanceMatrix</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DTIPathwayGroupID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#a17fb32ddb950f9c1effa0c8a3db47872">Add</a> (std::string path, bool bAppend=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add pathways to PDB.  <a href="#a17fb32ddb950f9c1effa0c8a3db47872"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DTIPathwayGroupID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#a3a718db93ea1829b6bd9d78b7b96cfe4">Add</a> (std::istringstream &amp;fiberStream, std::istringstream &amp;distanceStream, bool bAppend=true, bool bCreatePDBFile=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does the actual job of adding pathway.  <a href="#a3a718db93ea1829b6bd9d78b7b96cfe4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#ae346905a0b69204b90ee3303d46a88fb">MoveToTrash</a> (DTIPathwayGroupID id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Moves the fiber groups with id =.  <a href="#ae346905a0b69204b90ee3303d46a88fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af777a2c0f7f271bf52fbb0cfa994b5e7"></a><!-- doxytag: member="PDBHelper::Save" ref="af777a2c0f7f271bf52fbb0cfa994b5e7" args="(std::string path, DTIPathwaySelection &amp;selection)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#af777a2c0f7f271bf52fbb0cfa994b5e7">Save</a> (std::string path, DTIPathwaySelection &amp;selection)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save the entire pdb to disk. To save as a state file use the serialize method. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad949c2574289ca306ea9a32b183f19db"></a><!-- doxytag: member="PDBHelper::Clear" ref="ad949c2574289ca306ea9a32b183f19db" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#ad949c2574289ca306ea9a32b183f19db">Clear</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears all data as if it was new. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#aecbe06670c4e5102a6e75f9ad6683531">Filter</a> (DTIPathwaySelection &amp;in_selection)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filter the pathways based on statistics.  <a href="#aecbe06670c4e5102a6e75f9ad6683531"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61e30b8a844340d120e0b1a4d8f301d7"></a><!-- doxytag: member="PDBHelper::LoadAndReplaceDistanceMatrix" ref="a61e30b8a844340d120e0b1a4d8f301d7" args="(std::istream &amp;matrixStream)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>LoadAndReplaceDistanceMatrix</b> (std::istream &amp;matrixStream)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5aa90815da0fcc8406210f233cc88289"></a><!-- doxytag: member="PDBHelper::AcceptFilterOperation" ref="a5aa90815da0fcc8406210f233cc88289" args="(bool accept)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#a5aa90815da0fcc8406210f233cc88289">AcceptFilterOperation</a> (bool accept)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit the changes made using 'Refine Selection Panel'. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af07b0aedb3b777ab5c349f34a882b02b"></a><!-- doxytag: member="PDBHelper::SetAssignment" ref="af07b0aedb3b777ab5c349f34a882b02b" args="(DTIPathwayAssignment &amp;assn)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#af07b0aedb3b777ab5c349f34a882b02b">SetAssignment</a> (<a class="el" href="class_d_t_i_pathway_assignment.html">DTIPathwayAssignment</a> &amp;assn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the new assignment. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57f5f9bba5a3af2cd8297fb709e47a0e"></a><!-- doxytag: member="PDBHelper::Deserialize" ref="a57f5f9bba5a3af2cd8297fb709e47a0e" args="(std::istream &amp;s, int version=0)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Deserialize</b> (std::istream &amp;s, int version=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f4ab8c77a5e06dca8a88b304a03a72f"></a><!-- doxytag: member="PDBHelper::Serialize" ref="a6f4ab8c77a5e06dca8a88b304a03a72f" args="(std::ostream &amp;s, int version=0)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Serialize</b> (std::ostream &amp;s, int version=0)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcf8bba86a936640741febc89182011c"></a><!-- doxytag: member="PDBHelper::DeleteTempPDBFiles" ref="afcf8bba86a936640741febc89182011c" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>DeleteTempPDBFiles</b> ()</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad68f903e780471f549e6380a72aba46f"></a><!-- doxytag: member="PDBHelper::_pdb" ref="ad68f903e780471f549e6380a72aba46f" args="" -->
PDTIPathwayDatabase&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#ad68f903e780471f549e6380a72aba46f">_pdb</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The pdb class which store the .pdb file's data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8658ed3ce7262336e861ccdc2c87a0b3"></a><!-- doxytag: member="PDBHelper::_assn" ref="a8658ed3ce7262336e861ccdc2c87a0b3" args="" -->
<a class="el" href="class_d_t_i_pathway_assignment.html">DTIPathwayAssignment</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#a8658ed3ce7262336e861ccdc2c87a0b3">_assn</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assignment of the current fibers to fiber groups. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a204f6be3230b9500ca5a6aeb23afc8bd"></a><!-- doxytag: member="PDBHelper::_oldAssn" ref="a204f6be3230b9500ca5a6aeb23afc8bd" args="" -->
<a class="el" href="class_d_t_i_pathway_assignment.html">DTIPathwayAssignment</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#a204f6be3230b9500ca5a6aeb23afc8bd">_oldAssn</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assignment of the current fibers to fiber groups. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c62f1cb2563faa93dc2228463bd9894"></a><!-- doxytag: member="PDBHelper::_distanceMatrix" ref="a2c62f1cb2563faa93dc2228463bd9894" args="" -->
PDTIPathDistanceMatrix&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_d_b_helper.html#a2c62f1cb2563faa93dc2228463bd9894">_distanceMatrix</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Not used. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9581fc0fd4e6345e998ad6ac6ea8b453"></a><!-- doxytag: member="PDBHelper::_pdbPaths" ref="a9581fc0fd4e6345e998ad6ac6ea8b453" args="" -->
std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_pdbPaths</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class acts as a wrapper around DTIPathwayDatabase. </p>
<p>In future this class should be merged with DTIPathwayDatabase </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3a718db93ea1829b6bd9d78b7b96cfe4"></a><!-- doxytag: member="PDBHelper::Add" ref="a3a718db93ea1829b6bd9d78b7b96cfe4" args="(std::istringstream &amp;fiberStream, std::istringstream &amp;distanceStream, bool bAppend=true, bool bCreatePDBFile=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DTIPathwayGroupID PDBHelper::Add </td>
          <td>(</td>
          <td class="paramtype">std::istringstream &amp;&nbsp;</td>
          <td class="paramname"> <em>fiberStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::istringstream &amp;&nbsp;</td>
          <td class="paramname"> <em>distanceStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bAppend</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bCreatePDBFile</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Does the actual job of adding pathway. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>GroupID to which fibers were added. -1 on failure</dd></dl>
<p>Does the actual loading of pathways. This function can either append the fibers or overwrite them. In the latter case, it deletes any temporary fibers that might have been saved on disk. Temporary fibers are created when they are pushed from Matlab to quench. These are saved to disk for later use</p>
<p>It also updates the pathway assignment by assigning the newly passed fiber group to the first available empty slot in the list of assignments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bCreatePDBFile</em>&nbsp;</td><td>A boolean variable which is true if temporary fibers need to be saved on to disk </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17fb32ddb950f9c1effa0c8a3db47872"></a><!-- doxytag: member="PDBHelper::Add" ref="a17fb32ddb950f9c1effa0c8a3db47872" args="(std::string path, bool bAppend=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DTIPathwayGroupID PDBHelper::Add </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>strFilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bAppend</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add pathways to PDB. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>GroupID to which fibers were added. -1 on failure</dd></dl>
<p>This function actually calls the other Add function to do the processing It simply loads the file from disk into a string stream and passes it 2nd Add function </p>

</div>
</div>
<a class="anchor" id="aecbe06670c4e5102a6e75f9ad6683531"></a><!-- doxytag: member="PDBHelper::Filter" ref="aecbe06670c4e5102a6e75f9ad6683531" args="(DTIPathwaySelection &amp;in_selection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDBHelper::Filter </td>
          <td>(</td>
          <td class="paramtype">DTIPathwaySelection &amp;&nbsp;</td>
          <td class="paramname"> <em>in_selection</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filter the pathways based on statistics. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in_selection</em>&nbsp;</td><td>acts as both input and output variable. Initially contains information specifying which fibers should be considered for selection. After the filtering operation, only the fibers that pass the test remain selected in </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>in_selection.</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae346905a0b69204b90ee3303d46a88fb"></a><!-- doxytag: member="PDBHelper::MoveToTrash" ref="ae346905a0b69204b90ee3303d46a88fb" args="(DTIPathwayGroupID id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDBHelper::MoveToTrash </td>
          <td>(</td>
          <td class="paramtype">DTIPathwayGroupID&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Moves the fiber groups with id =. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>to trash group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Shireesh/Work/Sandbox/Quench/trunk/Quench/Quench_ver2/util/<a class="el" href="_p_d_b_helper_8h_source.html">PDBHelper.h</a></li>
<li>C:/Shireesh/Work/Sandbox/Quench/trunk/Quench/Quench_ver2/util/PDBHelper.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Aug 20 03:05:39 2010 for Quench by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
